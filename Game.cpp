#include "Game.h"
#include "Renderer.h"
Game::Game(Window&win,Config&config):ws(win),borders(Vector2(-0.7f,-0.7f),Vector2(0.7f,0.7f),ws),snakes(ws,config),point(ws,config){ws[X]-=0.1f;ws[Y]-=0.1f;point.generate(borders);gameRunning=true;gamePaused=config.fromSingle("-pauseonstart");}void Game::input(SDL_Event evnt){snakes.input(evnt);if(evnt.type==SDL_KEYDOWN){switch(evnt.key.keysym.sym){case SDLK_w: ws[Y]-=0.1f;break;case SDLK_s: ws[Y]+=0.1f;break;case SDLK_a: ws[X]+=0.1f;break;case SDLK_d: ws[X]-=0.1f;break;case SDLK_RETURN:gamePaused=gamePaused ? false : true;break;}}}void Game::update(){if(gameRunning&&!gamePaused){if(!snakes.update(borders,point)){gameRunning=false;}point.update(borders);}}void Game::draw(){if(gamePaused)ws.draw();borders.draw();snakes.draw();point.draw();}